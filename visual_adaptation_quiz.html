<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Content Security Policy moved to HTTP headers for better security -->
    <title>Visual Perception - Visual Adaptation Quiz</title>
    <style>
        :root {
            --primary-color: #1A365D;
            --secondary-color: #2A9D8F;
            --accent-color: #F4A261;
            --background-color: #F8F9FA;
            --text-color: #333333;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Open Sans', sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--background-color);
        }
        
        header {
            background-color: var(--primary-color);
            color: white;
            padding: 1rem;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .logo {
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        .nav-links {
            display: flex;
            list-style: none;
        }
        
        .nav-links li {
            margin-left: 1.5rem;
        }
        
        .nav-links a {
            color: white;
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .nav-links a:hover {
            color: var(--accent-color);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        .module-header {
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 2rem;
            margin-bottom: 2rem;
            border-radius: 10px;
        }
        
        .module-header h1 {
            font-family: 'Montserrat', sans-serif;
            margin-bottom: 1rem;
        }
        
        .quiz-container {
            background-color: white;
            border-radius: 10px;
            padding: 2rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .quiz-intro {
            margin-bottom: 2rem;
        }
        
        .quiz-intro h2 {
            font-family: 'Montserrat', sans-serif;
            color: var(--primary-color);
            margin-bottom: 1rem;
        }
        
        .question-container {
            margin-bottom: 2rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid #eee;
        }
        
        .question-container:last-child {
            border-bottom: none;
        }
        
        .question {
            font-weight: bold;
            margin-bottom: 1rem;
        }
        
        .matching-question .matching-item {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .matching-question .item-label {
            flex: 1;
            font-weight: bold;
        }
        
        .matching-question select {
            flex: 2;
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        
        .submit-btn {
            display: block;
            width: 100%;
            padding: 1rem;
            background-color: var(--secondary-color);
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: background-color 0.3s;
            margin-top: 2rem;
        }
        
        .submit-btn:hover {
            background-color: var(--primary-color);
        }
        
        .feedback {
            margin-top: 2rem;
            padding: 1.5rem;
            border-radius: 5px;
            display: none;
        }
        
        .feedback.correct {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .feedback.incorrect {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .feedback h3 {
            margin-bottom: 1rem;
        }
        
        .feedback p {
            margin-bottom: 0.5rem;
        }
        
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
        }
        
        .nav-btn {
            display: inline-block;
            padding: 0.8rem 1.5rem;
            background-color: var(--primary-color);
            color: white;
            text-decoration: none;
            border-radius: 5px;
            transition: background-color 0.3s;
        }
        
        .nav-btn:hover {
            background-color: var(--secondary-color);
        }
        
        footer {
            background-color: var(--primary-color);
            color: white;
            padding: 2rem;
            margin-top: 4rem;
        }
        
        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
        }
        
        .footer-section {
            flex: 1;
            min-width: 250px;
            margin-bottom: 1rem;
        }
        
        .footer-section h3 {
            font-family: 'Montserrat', sans-serif;
            margin-bottom: 1rem;
            color: var(--accent-color);
        }
        
        .footer-section ul {
            list-style: none;
        }
        
        .footer-section ul li {
            margin-bottom: 0.5rem;
        }
        
        .footer-section a {
            color: white;
            text-decoration: none;
        }
        
        .footer-section a:hover {
            text-decoration: underline;
        }
        
        .copyright {
            text-align: center;
            padding-top: 2rem;
            margin-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <div class="logo">AVMedia Hub</div>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="#">Modules</a></li>
                <li><a href="#">Learning Paths</a></li>
                <li><a href="#">Resources</a></li>
                <li><a href="#">Dashboard</a></li>
            </ul>
        </nav>
    </header>
    
    <div class="container">
        <div class="module-header">
            <h1>Module 1: Fundamentals of Visual Perception</h1>
            <p>Test your understanding of visual adaptation mechanisms.</p>
        </div>
        
        <div class="quiz-container">
            <div class="quiz-intro">
                <h2>Visual Adaptation Quiz</h2>
                <p>Match each visual adaptation mechanism with its correct description. You can navigate to other topics using the links at the bottom of the page.</p>
            </div>
            
            <form id="quiz-form">
                <div class="question-container matching-question">
                    <p class="question">Match each visual adaptation mechanism with its correct description:</p>
                    
                    <div class="matching-item">
                        <span class="item-label">Light Adaptation:</span>
                        <select name="q1a" id="light-adaptation">
                            <option value="">-- Select --</option>
                            <option value="a">The process where color perception changes based on the dominant wavelength of light</option>
                            <option value="b">The adjustment of visual sensitivity when moving from dark to bright environments</option>
                            <option value="c">The adjustment of visual sensitivity when moving from bright to dark environments</option>
                            <option value="d">The phenomenon where afterimages appear in complementary colors</option>
                        </select>
                    </div>
                    
                    <div class="matching-item">
                        <span class="item-label">Dark Adaptation:</span>
                        <select name="q1b" id="dark-adaptation">
                            <option value="">-- Select --</option>
                            <option value="a">The process where color perception changes based on the dominant wavelength of light</option>
                            <option value="b">The adjustment of visual sensitivity when moving from dark to bright environments</option>
                            <option value="c">The adjustment of visual sensitivity when moving from bright to dark environments</option>
                            <option value="d">The phenomenon where afterimages appear in complementary colors</option>
                        </select>
                    </div>
                    
                    <div class="matching-item">
                        <span class="item-label">Chromatic Adaptation:</span>
                        <select name="q1c" id="chromatic-adaptation">
                            <option value="">-- Select --</option>
                            <option value="a">The process where color perception changes based on the dominant wavelength of light</option>
                            <option value="b">The adjustment of visual sensitivity when moving from dark to bright environments</option>
                            <option value="c">The adjustment of visual sensitivity when moving from bright to dark environments</option>
                            <option value="d">The phenomenon where afterimages appear in complementary colors</option>
                        </select>
                    </div>
                </div>
                
                <button type="button" class="submit-btn" id="submit-btn">Submit Answer</button>
                
                <div class="feedback" id="feedback">
                    <h3>Feedback</h3>
                    <p id="feedback-text"></p>
                    <p id="explanation"></p>
                </div>
                
                <div class="navigation-buttons">
                    <a href="opponent_color_theory_quiz.html" class="nav-btn">← Opponent Color Theory Quiz</a>
                    <a href="stevens_power_law_quiz.html" class="nav-btn">Next: Stevens' Power Law Quiz →</a>
                </div>
            </form>
        </div>
    </div>
    
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>About</h3>
                <p>This interactive learning platform is designed for first-semester students in Audiovisuelle Medien at Hochschule der Medien.</p>
            </div>
            
            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="#">Modules</a></li>
                    <li><a href="#">Learning Paths</a></li>
                    <li><a href="#">Resources</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3>HdM Resources</h3>
                <ul>
                    <li><a href="https://www.hdm-stuttgart.de/" target="_blank">HdM Website</a></li>
                    <li><a href="https://www.hdm-stuttgart.de/studienangebot/studiengaenge/steckbrief?sgang_ID=550013" target="_blank">Audiovisuelle Medien</a></li>
                </ul>
            </div>
        </div>
        
        <div class="copyright">
            <p>&copy; 2025 Audiovisuelle Medien Learning Hub | Hochschule der Medien Stuttgart</p>
        </div>
    </footer>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const submitBtn = document.getElementById('submit-btn');
            const feedback = document.getElementById('feedback');
            const feedbackText = document.getElementById('feedback-text');
            const explanation = document.getElementById('explanation');
            
            // Make sure UI elements are accessible
            if (!submitBtn || !feedback || !feedbackText || !explanation) {
                console.error('Error: One or more UI elements not found');
                return;
            }
            
            submitBtn.addEventListener('click', function() {
                try {
                    const lightAdaptationSelect = document.getElementById('light-adaptation');
                    const darkAdaptationSelect = document.getElementById('dark-adaptation');
                    const chromaticAdaptationSelect = document.getElementById('chromatic-adaptation');
                    
                    // Check if all select elements exist
                    if (!lightAdaptationSelect || !darkAdaptationSelect || !chromaticAdaptationSelect) {
                        console.error('Error: One or more select elements not found');
                        alert('There was an error with the form. Please refresh the page and try again.');
                        return;
                    }
                    
                    const lightAdaptation = lightAdaptationSelect.value;
                    const darkAdaptation = darkAdaptationSelect.value;
                    const chromaticAdaptation = chromaticAdaptationSelect.value;
                    
                    if (!lightAdaptation || !darkAdaptation || !chromaticAdaptation) {
                        alert('Please complete all matching items before submitting.');
                        return;
                    }
                    
                    // Correct answers: Light Adaptation = b, Dark Adaptation = c, Chromatic Adaptation = a
                    const isCorrect = lightAdaptation === 'b' && darkAdaptation === 'c' && chromaticAdaptation === 'a';
                    
                    // Count individual correct answers
                    const correctCount = [
                        lightAdaptation === 'b', 
                        darkAdaptation === 'c', 
                        chromaticAdaptation === 'a'
                    ].filter(Boolean).length;
                    
                    if (isCorrect) {
                        feedback.className = 'feedback correct';
                        feedbackText.textContent = 'Correct! All matches are correct.';
                        explanation.textContent = 'Light adaptation is the process of adjusting to bright environments, which involves the deactivation of rod cells and the constriction of the pupil. Dark adaptation is the adjustment to dim environments, involving the activation of rod cells and dilation of the pupil. Chromatic adaptation allows our visual system to adjust to different lighting conditions with various color temperatures, helping us perceive colors consistently.';
                    } else {
                        feedback.className = 'feedback incorrect';
                        feedbackText.textContent = `Some matches are incorrect. You got ${correctCount} out of 3 correct.`;
                        explanation.textContent = 'Light adaptation (b) is the adjustment when moving from dark to bright environments. Dark adaptation (c) is the adjustment when moving from bright to dark environments. Chromatic adaptation (a) is the process where color perception changes based on the dominant wavelength of light.';
                    }
                    
                    feedback.style.display = 'block';
                    
                    // Scroll to feedback
                    feedback.scrollIntoView({ behavior: 'smooth' });
                } catch (error) {
                    console.error('Error in submit handler:', error);
                    alert('There was an error processing your answers. Please try again.');
                }
            });
        });
    </script>
</body>
</html>